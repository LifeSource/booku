!function(){"use strict";angular.module("book.module",[])}(),function(){"use strict";angular.module("app.core",["ngResource","ui.router"])}(),function(o){"use strict";function e(o,e){function t(o){return o.data}function a(o){return o}function i(){return o.get(c).then(t)["catch"](a)}function n(e){return o.get(c+e).then(t)["catch"](a)}function r(e){return o.post(c,e).then(t)["catch"](a)}function s(e,i){return o.put(c+e,i).then(t)["catch"](a)}function l(e){return o["delete"](c+e).then(t)["catch"](a)}var c="/api/books/";return{query:i,get:n,post:r,put:s,remove:l}}angular.module("book.module").factory("bookService",e),e.$inject=["$http","$state"]}(),function(){"use strict";function o(){e()}function e(o){toastr.timeOut=4e3}var t=angular.module("booku",["app.core","ui.bootstrap","book.module"]);t.config(o),o.$inject=[]}(),function(o){"use strict";var e=function(o,e){var t=this;t.book={title:"",author:"",genre:"",price:0,publisher:"",publishedDate:new Date,summary:""},t.open=function(o){o.preventDefault(),o.stopPropagation(),t.opened=!t.opened},t.save=function(a){a?o.post(t.book).then(function(o){toastr.success("Book added successfully!"),e.go("bookList")},function(o){toastr.error(o)}):toastr.error("Form validation error, please ensure all forms fields are valid.")},t.cancel=function(){e.go("bookList")}};o.controller("BookAddController",["bookService","$state",e])}(angular.module("booku")),function(){"use strict";function o(o,e,t,a){function i(){n(e.id)}function n(o){return a.get(o).then(r)["catch"](s)}function r(o){return l.book=o,o}function s(o){toastr.err("Unable to fetch data: "+o)}var l=this;l.isReadonly=!0,l.cancel=function(){t.go("bookList")},l.edit=function(){t.go("bookEdit.info",{bookId:e.bookId})},l.remove=function(){a.remove(e.bookId).then(function(o){toastr.success("Book succesfully removed!"),t.go("bookList")},function(o){toastr.error(o)})},i()}angular.module("book.module").controller("BookDetailController",o),o.$inject=["$q","$stateParams","$state","bookService"]}(),function(o){"use strict";var e=function(o,e,t){var a=this,i=e.bookId,n=function(o){a.book=o,a.book||a.book._id?a.title="Editing: "+a.book.title:a.title="New Book"},r=function(o){toastr.error("Unable to fetch the data: "+o)};a.open=function(o){o.preventDefault(),o.stopPropagation(),a.opened=!a.opened},a.cancel=function(){t.go("bookList")},a.save=function(e){e?(console.log(JSON.stringify(a.book)),o.put(i,a.book),t.go("bookList"),toastr.success("Book updated successfully!")):toastr.error("Please check the form for validation errors before proceeding.")},o.get(i).then(n,r)};o.controller("BookEditController",["bookService","$stateParams","$state",e])}(angular.module("booku")),function(o){"use strict";function e(o,e,t){function a(){var e=[i()];o.all(e).then(function(o){toastr.info("Books collection loaded successfully!")})["catch"](r)}function i(){return t.query().then(n)["catch"](r)}function n(o){return l.books=o,o}function r(o){toastr.error("Unable to fetch the data: "+o)}function s(o){e.go("bookDetail",{id:o})}var l=this;l.showBookDetail=s,a()}e.$inject=["$q","$state","bookService"],angular.module("book.module").controller("BookListController",e),e.inject=["$q","$state","bookService"]}(),function(){"use strict";function o(o,e,t){t.html5Mode(!0).hashPrefix("!"),e.otherwise("/"),o.state("home",{url:"/",templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm"}).state("about",{url:"/about",templateUrl:"app/home/about.html"}).state("bookList",{url:"/books",templateUrl:"app/book/bookList.html",controller:"BookListController",controllerAs:"vm"}).state("bookAdd",{url:"/books/add/",templateUrl:"app/book/bookAdd.html",controller:"BookAddController",controllerAs:"vm"}).state("bookEdit",{"abstract":!0,url:"/books/edit/:bookId",templateUrl:"app/book/bookEdit.html",controller:"BookEditController",controllerAs:"vm"}).state("bookEdit.info",{url:"/info",templateUrl:"app/book/bookEditInfo.html"}).state("bookDetail",{url:"/books/:id",templateUrl:"app/book/bookDetail.html",controller:"BookDetailController",controllerAs:"vm"})}o.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("app.core").config(o),o.inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function o(){var o=this;o.year=(new Date).getFullYear(),o.meanList=[{id:"mongo",name:"MongoDB",type:"Database",href:"http://www.mongodb.org"},{id:"express",name:"Express",type:"Web Framework",href:"http://www.expressjs.org"},{id:"angular",name:"Angular",type:"Client Framework",href:"http://www.angularjs.org"},{id:"node",name:"Node",type:"Backend Server",href:"http://www.nodejs.org"},{id:"gulp",name:"Gulp",type:"Build Automation",href:"http://www.gulpjs.org"},{id:"git",name:"Git",type:"Source Control",href:"http://www.git.org"},{id:"stylus",name:"Stylus",type:"CSS Pre-Processor",href:"http://www.git.org"}]}angular.module("app.core").controller("HomeController",o),o.inject=[]}(),function(){"use strict";function o(){var o=this;o.navs=[{name:"Home",state:"home"},{name:"Book List",state:"bookList"},{name:"About",state:"about"}]}angular.module("app.core").controller("NavController",o),o.inject=[]}(),function(){"use strict";function o(){var o={restrict:"A",template:'<ul class="rating"><li ng-repeat="star in stars" ng-class="star">★</li></ul>',scope:{ratingValue:"=",max:"="},link:function(o,e,t){o.stars=[];for(var a=0;a<o.max;a++)o.stars.push({filled:a<o.rating})}};return o}angular.module("app.core").directive("starRating",o),o.inject=[]}(),angular.module("app.core").run(["$templateCache",function(o){o.put("app/book/bookAdd.html",""),o.put("app/book/bookDetail.html",'<div id="bookDetail"><div class="bookImage"><img ng-src="/images/books/{{ vm.book.imageUrl }}" alt="{{ vm.book.title }} image"></div><div class="bookInfo"><div class="heading author-heading"><h4>{{ vm.book.author }}</h4></div><br>{{ vm.book.summary }}<br><br><div class="publishingDetail">{{ vm.book.publisher }}, {{ vm.book.publishedDate | date }}</div></div><div class="reviews"><div class="heading"><h4>Reviews</h4></div><br><ul><li class="reviewList" data-ng-repeat="review in vm.book.reviews"><div><div><strong>{{ review.reviewer }}</strong> &nbsp; {{ review.reviewDate | date }}</div><uib-rating class="rating" readonly="vm.isReadonly" data-ng-model="review.rating"></uib-rating></div><div class="comments">"{{ review.comments }}"</div></li></ul></div></div>'),o.put("app/book/bookEdit.html",""),o.put("app/book/bookList.html",'<div id="bookList"><ul><li data-ng-repeat="book in vm.books" data-ng-click="vm.showBookDetail(book._id)"><img ng-src="/images/books/{{ book.imageUrl }}" alt="{{ book.title }} image"></li></ul></div>'),o.put("app/home/about.html",'<div class="about"><div><p>My name is Kenrick, currently living in the awesome city of Perth, in Western Australia. An aspiring web developer looking to expand my horizon in software development field. My interests include spending time with my families and friends, walking, web development, fine arts (figure drawing and digital painting) and casual gamer.</p><p>I am currently seeking an awesome company to unleash and hone my web development skills. I started my career in IT providing technical support broadband customers around Australia working for Westnet then I moved into IT consultant firms with Fujitsu Australia working as a support and maintenance programmer for various government and private companies which later propelled me into the Oil and Gas sector working for Woodside Energy supporting their enterprise SharePoint infrastructure and mission critical applications.</p><p>In my career, I\'ve worked with a multitude of platforms and technologies, from Microsoft\'s client operating systems such as Windows XP, 7 and 8 to backend servers such as Windows Server 2005, 2008, 2012 and SharePoint farms running on MS SQL databases with an enterprise workflow engines such as K2 BlackPearl attached. I\'ve also got a chance to work with the UNIX and OSX environment during my time at Woodside which gave me an easy transition back into the open source world which I learnt during my spare times.</p><p class="name"><span><em>-- Kenrick Wu</em></span></p></div></div>'),o.put("app/home/home.html",'<div class="home"><div><p class="intro">Booku is a book repository web application built with the MEAN stack technologies. The primary purpose of this application was used to hone my skills in web development using technologies provided by the open source community to build a full fledge web application using both front-end as well as back-end technologies.</p><p>This application uses Node as the back-end server, Express as the web-platform, Angular as the front-end JavaScript framework, Gulp as its automation and build tool, Karma as the test runner and MongoDB as its back-end database. Ultimately all great apps should be versioned and stored in a safe and easy to retrieve location for this Git was the source control of choice.</p><ul id="meanList"><li id="{{ item.id }}" class="tech" data-ng-repeat="item in vm.meanList"><div><h2 class="text-center">{{ item.name }}</h2><p class="text-center">{{ item.type }}</p></div></li></ul></div></div>'),o.put("app/layout/footer.html",'<footer><div class="disclaimer"><h3>Disclaimer</h3>All the copyright images used on this site is solely for education purposes only, all copyrights belong to their respective owners.</div><div class="aboutMe"><h3>About Me</h3><div>Kenrick Wu</div><div>Fontend Web Developer</div></div><div class="contact"><h3>Contact Us</h3><div>Tel: 1300-123-456</div><div>E: booku@gmail.com</div></div></footer>'),o.put("app/layout/nav.html",'<header data-ng-controller="NavController as vm"><nav><div class="main-title"><i class="fa fa-book"></i><h1>Booku</h1></div><ul><li class="nav" data-ng-repeat="nav in vm.navs"><a ui-sref="{{nav.state}}">{{ nav.name }}</a></li></ul></nav></header>'),o.put("app/core/components/rating.html",'<ul><li data-ng-repeat="star in stars" data-ng-class="star">☆</li></ul>')}]);